{"version":3,"sources":["../src/co.js"],"names":["co","require","fetch","run","generator","iterator","i","next","promise","value","then","i2","data","promise2","data2","res","json","movie","summary","console","log"],"mappings":";;AAAA,IAAMA,KAAGC,QAAQ,IAAR,CAAT;AACA,IAAMC,QAAMD,QAAQ,YAAR,CAAZ,C,CAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,GAAT,CAAcC,SAAd,EAAyB;AACrB,QAAMC,WAASD,WAAf,CADqB,CACK;AAC1B,QAAME,IAAED,SAASE,IAAT,EAAR,CAFqB,CAEE;AACvB,QAAMC,UAAQF,EAAEG,KAAhB;AACAD,YAAQE,IAAR,CAAc,gBAAM;AAAC;AACjB,YAAMC,KAAGN,SAASE,IAAT,CAAcK,IAAd,CAAT;AACA,YAAMC,WAASF,GAAGF,KAAlB;AACAI,iBAASH,IAAT,CAAc,iBAAO;AACjBL,qBAASE,IAAT,CAAcO,KAAd;AACH,SAFD;AAGH,KAND;AAOH;AACDX,0CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACkBD,MAAM,yCAAN,CADlB;;AAAA;AACMa,uBADN;AAAA;AAAA,2BAEkBA,IAAIC,IAAJ,EAFlB;;AAAA;AAEMC,yBAFN;AAGMC,2BAHN,GAGcD,MAAMC,OAHpB;;AAIAC,4BAAQC,GAAR,CAAY,SAAZ,EAAsBF,OAAtB;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAJ","file":"co.js","sourcesContent":["const co=require('co')\r\nconst fetch=require('node-fetch')//请求数据\r\n// co(function *() {\r\n//     const res = yield fetch('https://api.douban.com/v2/movie/1291843')\r\n//     const movie=yield res.json()\r\n//     const summary=movie.summary\r\n//     console.log('summary',summary)\r\n// })\r\nfunction run (generator) {\r\n    const iterator=generator()//调用生成器产生迭代器对象\r\n    const i=iterator.next()//next方法\r\n    const promise=i.value\r\n    promise.then( data=>{//拿到data\r\n        const i2=iterator.next(data)\r\n        const promise2=i2.value\r\n        promise2.then(data2=>{\r\n            iterator.next(data2)\r\n        })\r\n    })\r\n}\r\nrun(function *() {\r\n    const res = yield fetch('https://api.douban.com/v2/movie/1291843')\r\n    const movie=yield res.json()\r\n    const summary=movie.summary\r\n    console.log('summary',summary)\r\n})\r\n"]}